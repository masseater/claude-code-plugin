---
argument-hint: <計画の説明>
---

# 計画をもとにプロジェクトの全容ドキュメント、技術詳細、仕様書、phase別計画書を生成します

以下の計画に基づいて、specs/[taskname]/配下に包括的な仕様書ドキュメントを作成してください。

【計画内容】
$ARGUMENTS

## 実行手順

### 1. タスク名の生成
上記の計画内容から適切なタスク名（ディレクトリ名）を生成してください：
- プロジェクト内容を端的に表す英数字とハイフンのみの名前
- 例: `user-authentication`, `payment-integration`, `admin-dashboard`, `api-v2-migration`
- 生成したタスク名をユーザーに提示し、確認を取る

### 2. ディレクトリの確認と作成
1. 現在のディレクトリに `specs/` フォルダが存在するか確認
2. 存在しない場合は、ユーザーに「specs/ フォルダを作成してもよろしいですか？」と確認
3. 確認が取れたら `specs/[taskname]/` ディレクトリを作成（[taskname]は生成したタスク名）

### 3. 作成するドキュメント

以下のドキュメントを `specs/[taskname]/` ディレクトリ内に作成してください：

#### 📄 1. overview.md - 全容ドキュメント
プロジェクト全体の概要を記述

```markdown
# プロジェクト全容ドキュメント

## プロジェクト概要
- プロジェクト名
- 目的と背景
- 主要な目標

## スコープ
- 対象範囲
- 対象外の範囲

## 主要機能
- 機能一覧と概要

## ステークホルダー
- 関係者とその役割

## スケジュール概要
- 全体スケジュール
- 主要マイルストーン

## Phase概要と依存関係

### Phase 1: {phaseName}
- **開始日時**: YYYY-MM-DD HH:MM（未着手の場合は空欄）
- **状態**: 未着手/進行中/完了/保留
- **目標**:
- **依存関係**: なし（または前提となるphase）
- **成果物**:

### Phase 2: {phaseName}
- **開始日時**: YYYY-MM-DD HH:MM（未着手の場合は空欄）
- **状態**: 未着手/進行中/完了/保留
- **目標**:
- **依存関係**: Phase 1の完了が必須
- **成果物**:

### Phase 3: {phaseName}
- **開始日時**: YYYY-MM-DD HH:MM（未着手の場合は空欄）
- **状態**: 未着手/進行中/完了/保留
- **目標**:
- **依存関係**: Phase 2の〇〇機能の完了が必須
- **成果物**:

※各Phaseの詳細は phase{N}-{phaseName}.md を参照

## Phase依存関係図
```
Phase 1 (Foundation)
    ↓
Phase 2 (Core Features)
    ↓
Phase 3 (Advanced Features)
    ↓
Phase 4 (Optimization & Launch)
```

## 成果物
- 最終的な成果物一覧

## リスクと制約
- 想定されるリスク
- 技術的/ビジネス的制約
```

#### 📄 2. specification.md - 詳細仕様書
機能要件と非機能要件の詳細を記述

```markdown
# 詳細仕様書

## 機能要件

### 機能1: [機能名]
- **概要**: 機能の説明
- **優先度**: High/Medium/Low
- **実装Phase**: Phase N
- **ユースケース**:
  - アクター:
  - 前提条件:
  - 基本フロー:
  - 代替フロー:
  - 事後条件:
- **入力**:
- **出力**:
- **ビジネスルール**:
- **バリデーション**:

### 機能2: [機能名]
...

## 非機能要件

### パフォーマンス
- レスポンスタイム要件
- 同時接続数
- データ処理量

### 可用性
- 稼働率目標
- ダウンタイム許容範囲
- 障害復旧時間

### セキュリティ
- 認証・認可要件
- データ暗号化
- 監査ログ

### スケーラビリティ
- 将来的な成長予測
- スケールアウト方針

### 保守性
- コード品質基準
- ドキュメント要件
- 技術的負債の管理

### ユーザビリティ
- UI/UX要件
- アクセシビリティ
- 多言語対応

## データ要件
- データモデル概要
- データ保持期間
- データ移行要件

## インターフェース要件
- 外部システム連携
- API仕様概要
- データフォーマット

## 制約条件
- 技術的制約
- ビジネス的制約
- 法的・規制上の制約
```

#### 📄 3. technical-details.md - 技術詳細
技術的な仕様と設計を記述

```markdown
# 技術詳細ドキュメント

## アーキテクチャ
- システム構成図
- 技術スタック
- インフラ構成

## 技術選定
- 採用技術とその理由
- 代替案との比較

## データ設計
- データモデル
- データベーススキーマ
- データフロー

## API設計
- エンドポイント一覧
- リクエスト/レスポンス仕様
- 認証・認可

## セキュリティ
- セキュリティ要件
- 実装方針

## パフォーマンス要件
- レスポンスタイム
- スループット
- スケーラビリティ

## 開発環境
- 必要なツール
- セットアップ手順

## テスト戦略
- テストの種類
- カバレッジ目標
```

#### 📄 4. phase{N}-{phaseName}.md - Phase別計画書
各phaseごとに個別のドキュメントを作成（例: phase1-foundation.md, phase2-core-features.md など）

```markdown
# Phase {N}: {phaseName} 計画書

## Phase概要
- **Phase名**: {phaseName}
- **開始日時**: YYYY-MM-DD HH:MM（未着手の場合は空欄）
- **状態**: 未着手/進行中/完了/保留
- **目標**:

## 依存関係
- **前提条件**:
  - Phase {N-1}の完了が必須
  - Phase {N-1}の〇〇機能の実装完了
  - 〇〇ライブラリの選定完了
- **ブロッカー**:
  - なし（または現在のブロッカー）
- **後続Phaseへの影響**:
  - Phase {N+1}が本Phaseの〇〇機能に依存
  - Phase {N+2}の〇〇実装に必要なAPIを提供

## 実装する機能
- 機能1（優先度: High）
- 機能2（優先度: Medium）
- 機能3（優先度: Low）

## タスク詳細

### タスク1: [タスク名]
- **説明**:
- **担当**:
- **見積もり時間**:
- **依存関係**:
  - タスク〇〇の完了後に着手可能
  - 外部APIの仕様確定が必要
- **完了条件**:
- **状態**: 未着手/進行中/完了/保留

### タスク2: [タスク名]
- **説明**:
- **担当**:
- **見積もり時間**:
- **依存関係**:
- **完了条件**:
- **状態**: 未着手/進行中/完了/保留

### タスク3: [タスク名]
...

## 技術的課題
- 想定される課題
- 解決方針

## テスト計画
- テスト項目
- テスト方法
- テスト完了条件

## デリバリー
- **成果物**:
- **デプロイ計画**:
- **リリース判定基準**:

## リスク管理
- Phase固有のリスク
- 対策
- コンティンジェンシープラン

## 次Phaseへの引き継ぎ事項
- Phase {N+1}で利用可能になる機能・API
- 未解決の課題
- 技術的負債
```

### 4. ドキュメント生成時の注意点
- 各ドキュメントは相互に整合性を保つこと
- 具体的で実行可能な内容にすること
- 依存関係は明確かつ具体的に記述すること（「Phase 1完了後」ではなく「Phase 1の認証機能実装完了後」など）
- 状態は以下のいずれかを使用: 未着手/進行中/完了/保留
- 開始日時は作業開始時に記録（未着手の場合は空欄のまま）
- 必要に応じてダイアグラムや図表を含めること
- マークダウン形式で読みやすく整形すること
- phase数とphase名はプロジェクトの規模と内容に応じて適切に設定すること
- specification.mdは機能要件の詳細を、technical-details.mdは技術実装の詳細を記述し、役割を明確に分離すること

### 5. 完了報告
すべてのドキュメント作成後、以下を報告：
- 作成したディレクトリパス: `specs/[taskname]/`
- 作成したファイルのリスト
- 各ドキュメントの概要
- Phase間の依存関係のサマリー
- 次のアクションの提案
